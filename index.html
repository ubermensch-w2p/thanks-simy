<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>For Simy ðŸŒ¹</title>
  <style>
    :root {
      --bg1: #06060c;
      --bg2: #0f0f1e;
      --card: #16162ae6;
      --accent: #ff4d6d;
      --accent-bright: #ff85a1;
      --text: #f6f6fb;
      --radius: 30px;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      /* Changed to min-height and allowed vertical scrolling */
      min-height: 100%;
      margin: 0;
      background: var(--bg1);
      overflow-x: hidden;
      overflow-y: auto;
      /* Fixes stiff scrolling on iOS */
      -webkit-overflow-scrolling: touch;
    }

    body {
      font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      background: radial-gradient(circle at center, #1a1a3a 0%, #06060c 100%);
      /* Uses the dynamic viewport height for mobile browsers */
      min-height: 100svh;
    }

    /* Ambient Sparkles */
    #canvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
    }

    .wrap {
      min-height: 100svh;
      display: grid;
      place-items: center;
      padding: 40px 20px;
      /* Increased top/bottom padding */
      position: relative;
      z-index: 1;
      /* Ensures content isn't hidden by the iPhone home bar */
      padding-bottom: calc(40px + env(safe-area-inset-bottom));
    }

    .card {
      width: min(600px, 94vw);
      background: var(--card);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: var(--radius);
      padding: 40px 25px;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6);
      text-align: center;
      position: relative;
    }

    /* The Rose Animation - Scaled down slightly for mobile height */
    .rose-box {
      height: 240px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 15px;
    }

    .rose-svg {
      width: 200px;
      height: 200px;
      transition: all 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .petal {
      transform-origin: center bottom;
      transition: all 1.5s cubic-bezier(0.16, 1, 0.3, 1);
      opacity: 0;
      transform: scale(0.2) rotate(15deg) translateY(30px);
      filter: brightness(0.8);
    }

    .petal.open {
      opacity: 1;
      transform: scale(1) rotate(0deg) translateY(0);
      filter: brightness(1.1);
    }

    @keyframes pulse {

      0%,
      100% {
        filter: drop-shadow(0 0 15px rgba(255, 77, 109, 0.3));
      }

      50% {
        filter: drop-shadow(0 0 35px rgba(255, 77, 109, 0.6));
      }
    }

    .bloomed {
      animation: pulse 3s infinite ease-in-out;
    }

    h1 {
      font-size: 2.2rem;
      margin: 0;
      font-weight: 300;
      letter-spacing: 4px;
      background: linear-gradient(to bottom, #fff, var(--accent-bright));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .sub {
      font-size: 0.75rem;
      color: #888;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-top: 5px;
    }

    .note-area {
      margin: 25px 0;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #line {
      font-size: 1.1rem;
      line-height: 1.6;
      font-weight: 300;
      transition: all 0.6s ease;
      color: rgba(255, 255, 255, 0.9);
    }

    .final-sig {
      font-family: 'Brush Script MT', cursive, sans-serif;
      font-size: 1.8rem;
      color: var(--accent-bright);
      margin-top: 15px;
      opacity: 0;
      transition: 2s ease;
    }

    .btn-main {
      background: transparent;
      border: 1px solid var(--accent);
      color: var(--accent);
      padding: 14px 40px;
      border-radius: 100px;
      font-size: 1rem;
      cursor: pointer;
      position: relative;
      transition: 0.4s;
      outline: none;
      -webkit-tap-highlight-color: transparent;
    }

    .btn-main:active {
      background: var(--accent);
      color: #000;
    }

    .petal-fall {
      position: fixed;
      pointer-events: none;
      z-index: 10;
      filter: blur(1px);
      animation: fall linear forwards;
    }

    @keyframes fall {
      0% {
        transform: translateY(-10vh) rotate(0deg);
        opacity: 0;
      }

      10% {
        opacity: 1;
      }

      100% {
        transform: translateY(110vh) rotate(720deg);
        opacity: 0;
      }
    }

    /* Small Screen Adjustments */
    @media (max-height: 700px) {
      .rose-box {
        height: 180px;
      }

      .rose-svg {
        width: 160px;
        height: 160px;
      }

      h1 {
        font-size: 1.8rem;
      }

      .note-area {
        min-height: 100px;
      }

      #line {
        font-size: 1rem;
      }
    }
  </style>
</head>

<body>
  <canvas id="canvas"></canvas>

  <div class="wrap">
    <div class="card">
      <header>
        <h1>SIMY</h1>
        <div class="sub">A story in blooms</div>
      </header>

      <div class="rose-box">
        <svg class="rose-svg" id="rose" viewBox="0 0 100 100">
          <defs>
            <radialGradient id="grad1" cx="50%" cy="50%" r="50%">
              <stop offset="0%" style="stop-color:#ff4d6d" />
              <stop offset="100%" style="stop-color:#800020" />
            </radialGradient>
            <radialGradient id="grad2" cx="50%" cy="50%" r="50%">
              <stop offset="0%" style="stop-color:#ff85a1" />
              <stop offset="100%" style="stop-color:#ff4d6d" />
            </radialGradient>
          </defs>
          <path d="M50 95 Q50 85 50 75" stroke="#1d3d18" stroke-width="3" fill="none" stroke-linecap="round" />
          <path d="M50 85 Q35 85 25 75 Q35 70 50 85" fill="#2d5a27" />
          <path d="M50 82 Q65 82 75 72 Q65 67 50 82" fill="#2d5a27" />
          <path id="p1" class="petal" d="M50 75 C20 75 5 50 50 20 C95 50 80 75 50 75" fill="url(#grad1)" />
          <path id="p2" class="petal" d="M50 72 C25 72 10 50 50 25 C90 50 75 72 50 72" fill="url(#grad2)" />
          <path id="p3" class="petal" d="M50 68 C30 68 20 50 50 35 C80 50 70 68 50 68" fill="#ff4d6d" opacity="0.9" />
          <path id="p4" class="petal" d="M50 65 C35 65 30 55 50 45 C70 55 65 65 50 65" fill="#ff85a1" />
          <path id="p5" class="petal" d="M50 62 Q40 62 50 52 Q60 62 50 62" fill="#ffacc5" />
          <circle id="p6" class="petal" cx="50" cy="55" r="3" fill="#fff" opacity="0.5" />
        </svg>
      </div>

      <div class="note-area">
        <div>
          <div id="line">A small secret for you...</div>
          <div id="sig" class="final-sig">â€” Hemant</div>
        </div>
      </div>

      <button class="btn-main" id="btn">Begin ðŸŒ¹</button>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 2;
        this.speedX = Math.random() * 0.5 - 0.25;
        this.speedY = Math.random() * 0.5 - 0.25;
        this.opacity = Math.random();
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        if (this.x > canvas.width) this.x = 0;
        if (this.x < 0) this.x = canvas.width;
        if (this.y > canvas.height) this.y = 0;
        if (this.y < 0) this.y = canvas.height;
      }
      draw() {
        ctx.fillStyle = `rgba(255, 133, 161, ${this.opacity})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    for (let i = 0; i < 60; i++) particles.push(new Particle());

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => { p.update(); p.draw(); });
      requestAnimationFrame(animate);
    }
    animate();

    const lines = [
      "I like talking to you.",
      "Somehowâ€¦ you kindle the inner kid in me.",
      "Talking to you genuinely makes me happy.",
      "And thinking about the day we met still leaves a smile on my face.",
      "Alsoâ€¦ youâ€™re kind of my Khaleesi.\n(But the soft, calming kind ðŸ˜„)",
      "You have a calm, gentle presence.\nAnd Iâ€™ve missed that in my life.",
      "Thank you for the flowers, sweets, and perfume.\n\nBut more than the giftsâ€¦\nthank you for your time.\n\nHope to meet you soon.\n(And yesâ€¦ secret rendezvous soon! ðŸ˜„)"
    ];

    let step = 0;
    const btn = document.getElementById('btn');
    const line = document.getElementById('line');
    const rose = document.getElementById('rose');

    function next() {
      if (step < lines.length) {
        line.style.opacity = 0;
        line.style.filter = "blur(10px)";

        setTimeout(() => {
          line.innerHTML = lines[step].replace(/\n/g, '<br>');
          line.style.opacity = 1;
          line.style.filter = "blur(0px)";

          const petals = document.querySelectorAll('.petal');
          const petalsToOpen = Math.ceil(((step + 1) / lines.length) * petals.length);
          for (let i = 0; i < petalsToOpen; i++) {
            petals[i].classList.add('open');
          }

          if (step === lines.length - 1) {
            btn.style.display = 'none';
            document.getElementById('sig').style.opacity = 1;
            rose.classList.add('bloomed');
            celebrate();
          } else {
            btn.textContent = "Keep reading...";
          }
          step++;
        }, 600);
      }
    }

    function celebrate() {
      for (let i = 0; i < 30; i++) {
        setTimeout(() => {
          const p = document.createElement('div');
          p.className = 'petal-fall';
          p.style.left = Math.random() * 100 + 'vw';
          p.style.width = Math.random() * 15 + 10 + 'px';
          p.style.height = p.style.width;
          p.style.background = `rgba(255, ${77 + Math.random() * 50}, ${109 + Math.random() * 50}, 0.8)`;
          p.style.borderRadius = '50% 0 50% 50%';
          p.style.animationDuration = Math.random() * 3 + 4 + 's';
          document.body.appendChild(p);
          setTimeout(() => p.remove(), 7000);
        }, i * 150);
      }
    }

    btn.addEventListener('click', next);
  </script>
</body>

</html>